{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4914bac6\"],{1115:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"api-info-container\"},[a(\"el-form\",{ref:\"apiForm\",attrs:{model:e.apiForm,rules:e.rules,\"label-width\":\"160px\"}},[a(\"el-card\",{staticClass:\"form-section\"},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e._v(\"API 基础信息\")]),a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"Sample URL:\",prop:\"sample_url\"}},[a(\"el-input\",{attrs:{placeholder:\"https://api.example.com/v1/resource/{id}\"},model:{value:e.apiForm.sample_url,callback:function(t){e.$set(e.apiForm,\"sample_url\",t)},expression:\"apiForm.sample_url\"}})],1)],1),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"Request Method:\",prop:\"request_method\"}},[a(\"el-select\",{staticStyle:{width:\"100%\"},model:{value:e.apiForm.request_method,callback:function(t){e.$set(e.apiForm,\"request_method\",t)},expression:\"apiForm.request_method\"}},e._l(e.methods,(function(e){return a(\"el-option\",{key:e,attrs:{value:e}})})),1)],1)],1)],1)],1),a(\"el-card\",{staticClass:\"form-section\"},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e._v(\"路径参数 (Path Segments)\")]),e._l(e.apiForm.path_segment_list,(function(t,r){return a(\"div\",{key:r,staticClass:\"dynamic-item\"},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"参数\"+(r+1)+\"名称:\",prop:\"path_segment_list.\"+r+\".name\",rules:e.rules.path_segment_name}},[a(\"el-input\",{model:{value:t.name,callback:function(a){e.$set(t,\"name\",a)},expression:\"segment.name\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-form-item\",{attrs:{label:\"是否为路径变量:\"}},[a(\"el-switch\",{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\"},model:{value:t.is_path_variable,callback:function(a){e.$set(t,\"is_path_variable\",a)},expression:\"segment.is_path_variable\"}})],1)],1),a(\"el-col\",{attrs:{span:8}},[r>=0?a(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-delete\"},on:{click:function(t){return e.removePathSegment(r)}}}):e._e()],1)],1)],1)})),a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.addPathSegment}},[e._v(\"添加路径参数\")])],2),a(\"el-card\",{staticClass:\"form-section\"},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e._v(\"请求参数 (Request Params)\")]),e._l(e.apiForm.request_param_list,(function(t,r){return a(\"div\",{key:r,staticClass:\"dynamic-item\"},[a(\"el-row\",{attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"参数\"+(r+1)+\"名称:\",prop:\"request_param_list.\"+r+\".name\",rules:e.rules.param_name}},[a(\"el-input\",{model:{value:t.name,callback:function(a){e.$set(t,\"name\",a)},expression:\"param.name\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"是否必需:\"}},[a(\"el-switch\",{attrs:{\"active-text\":\"是\",\"inactive-text\":\"否\"},model:{value:t.is_necessary,callback:function(a){e.$set(t,\"is_necessary\",a)},expression:\"param.is_necessary\"}})],1)],1),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"参数类型:\"}},[a(\"el-select\",{model:{value:t.type,callback:function(a){e.$set(t,\"type\",a)},expression:\"param.type\"}},e._l(e.types,(function(e){return a(\"el-option\",{key:e,attrs:{value:e}})})),1)],1)],1),a(\"el-col\",{attrs:{span:6}},[r>0?a(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-delete\"},on:{click:function(t){return e.removeRequestParam(r)}}}):e._e()],1)],1)],1)})),a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-plus\"},on:{click:e.addRequestParam}},[e._v(\"添加请求参数\")])],2),a(\"el-card\",{staticClass:\"form-section\"},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e._v(\"功能描述\")]),a(\"el-form-item\",{attrs:{prop:\"function_description\"}},[a(\"el-input\",{attrs:{type:\"textarea\",rows:3,placeholder:\"简要功能描述（示例：用户访问自己账户的邮件编辑页面）\"},model:{value:e.apiForm.function_description,callback:function(t){e.$set(e.apiForm,\"function_description\",t)},expression:\"apiForm.function_description\"}})],1)],1),a(\"el-card\",{staticClass:\"form-section\"},[a(\"div\",{attrs:{slot:\"header\"},slot:\"header\"},[e._v(\"权限信息\")]),a(\"el-form-item\",{attrs:{prop:\"permission_info\"}},[a(\"el-input\",{attrs:{type:\"textarea\",rows:3,placeholder:\"描述正常授权情况及未授权场景（示例：已登录用户可访问，未登录用户访问属于未授权）\"},model:{value:e.apiForm.permission_info,callback:function(t){e.$set(e.apiForm,\"permission_info\",t)},expression:\"apiForm.permission_info\"}})],1)],1),a(\"div\",{staticClass:\"form-actions\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"保存\")]),a(\"el-button\",{on:{click:e.cancelForm}},[e._v(\"取消\")])],1)],1)],1)},s=[],i=a(\"5530\"),n=(a(\"a434\"),a(\"b64b\"),a(\"61f7\")),l={name:\"ApiInfoForm\",props:{apiData:{type:Object,default:function(){return{}}}},data:function(){return{methods:[\"GET\",\"POST\",\"PUT\",\"DELETE\",\"PATCH\"],types:[\"String\",\"Number\",\"Boolean\",\"Object\",\"Array\"],apiForm:{sample_url:\"\",request_method:\"GET\",path_segment_list:[{name:\"\",is_path_variable:!1}],request_param_list:[{name:\"\",type:\"String\"}],function_description:\"\",permission_info:\"\"},rules:{sample_url:[{required:!0,message:\"示例URL不能为空\",trigger:\"blur\"},{validator:function(e,t,a){return Object(n[\"d\"])(t)?a():a(new Error(\"URL格式不正确\"))},trigger:\"blur\"}],request_method:{required:!0,message:\"请选择请求方法\",trigger:\"change\"},path_segment_name:{required:!0,message:\"参数名称不能为空\",trigger:\"blur\"},param_name:{required:!0,message:\"参数名称不能为空\",trigger:\"blur\"},function_description:{required:!0,message:\"功能描述不能为空\",trigger:\"blur\"},permission_info:{required:!0,message:\"权限信息不能为空\",trigger:\"blur\"}}}},watch:{apiData:{immediate:!0,handler:function(e){e&&Object.keys(e).length>0&&(this.apiForm=Object(i[\"a\"])(Object(i[\"a\"])({},e),{},{path_segment_list:e.path_segment_list||[{name:\"\",is_path_variable:!1}],request_param_list:e.request_param_list||[{name:\"\",is_necessary:!1,type:\"String\"}]}))}}},methods:{submitForm:function(){var e=this;this.$refs.apiForm.validate((function(t){t&&e.$emit(\"save\",e.apiForm)}))},cancelForm:function(){this.$emit(\"cancel\")},addPathSegment:function(){this.apiForm.path_segment_list.push({name:\"\",is_path_variable:!1})},removePathSegment:function(e){this.apiForm.path_segment_list.length>=1&&this.apiForm.path_segment_list.splice(e,1)},addRequestParam:function(){this.apiForm.request_param_list.push({name:\"\",is_necessary:!1,type:\"String\"})},removeRequestParam:function(e){this.apiForm.request_param_list.length>1&&this.apiForm.request_param_list.splice(e,1)}}},o=l,m=(a(\"5825\"),a(\"2877\")),c=Object(m[\"a\"])(o,r,s,!1,null,\"e06ec0f8\",null);t[\"default\"]=c.exports},3747:function(e,t,a){},5825:function(e,t,a){\"use strict\";a(\"3747\")}}]);","extractedComments":[]}